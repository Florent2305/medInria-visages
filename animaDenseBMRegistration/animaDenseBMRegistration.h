// /////////////////////////////////////////////////////////////////
// Generated by medPluginGenerator
// /////////////////////////////////////////////////////////////////

#pragma once

#include <itkProcessRegistration.h>
#include "animaDenseBMRegistrationPluginExport.h"

class animaDenseBMRegistrationPrivate;


/**
 * @brief Registration process.
 *
 * This plugin uses the registration programming interface (RPI).
 * It also implements a custom toolbox plugging itself onto the generic registration toolbox available in medInria/src/medGui.
 *
 */
class ANIMADENSEBMREGISTRATIONPLUGIN_EXPORT animaDenseBMRegistration : public itkProcessRegistration
{
    Q_OBJECT
    
public:

    animaDenseBMRegistration(void);
    virtual ~animaDenseBMRegistration(void);
    
    virtual QString description(void) const;
    
    static bool registered(void);
    
    virtual QString identifier(void) const;
    
    virtual itk::Transform<double,3,3>::Pointer getTransform();
    virtual QString getTitleAndParameters();

public:
    virtual int update(ImageType);
    
    void emitProgress(int prog);
    
    /**
     * TODO: this method is not generated by the plugin generator and I think it should be
     */
    virtual void onCanceled (void);
    
    medToolBox* toolbox();

protected :
    virtual bool writeTransform(const QString& file);
    
private:
    animaDenseBMRegistrationPrivate *d;
    
};


dtkAbstractProcess *createAnimaDenseBMRegistration(void);
