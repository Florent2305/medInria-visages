// /////////////////////////////////////////////////////////////////
// Generated by medPluginGenerator
// /////////////////////////////////////////////////////////////////

#pragma once

#include <itkProcessRegistration.h>
#include "animaPyramidalBMRegistrationPluginExport.h"

class animaPyramidalBMRegistrationPrivate;


/**
 * @brief Registration process.
 *
 * This plugin uses the registration programming interface (RPI).
 * It also implements a custom toolbox plugging itself onto the generic registration toolbox available in medInria/src/medGui.
 *
 */
class ANIMAPYRAMIDALBMREGISTRATIONPLUGIN_EXPORT animaPyramidalBMRegistration : public itkProcessRegistration
{
    Q_OBJECT
    
public:

    animaPyramidalBMRegistration(void);
    virtual ~animaPyramidalBMRegistration(void);
    
    virtual QString description(void) const;

    static bool registered(void);
    
    virtual QString identifier(void) const;
    
    virtual itk::Transform<double,3,3>::Pointer getTransform();
    virtual QString getTitleAndParameters();

    virtual medToolBox* toolbox();

public:
    virtual int update(ImageType);
    
    void emitProgress(int prog);
    
    virtual void onCanceled (void);
    
    void initTransformFile(QString initTransformFile);

    
protected :
    virtual bool writeTransform(const QString& file);
    
private:
    animaPyramidalBMRegistrationPrivate *d;
    
};

dtkAbstractProcess *createAnimaPyramidalBMRegistration(void);
